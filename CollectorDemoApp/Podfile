source 'https://github.com/bitmovin/cocoapod-specs.git'
source 'https://cdn.cocoapods.org/'

def for_ios 
  platform :ios, '14.0'
end

def for_tvos 
  platform :tvos, '14.0'
end

def collectors
  pod 'BitmovinAnalyticsCollector/Core', :path => '../BitmovinAnalyticsCollector.v2.podspec'
  pod 'BitmovinAnalyticsCollector/AVPlayer', :path => '../BitmovinAnalyticsCollector.v2.podspec'
  pod 'BitmovinAnalyticsCollector/BitmovinPlayer', :path => '../BitmovinAnalyticsCollector.v2.podspec'
  pod 'BitmovinAnalyticsCollector/AmazonIVSPlayer', :path => '../BitmovinAnalyticsCollector.v2.podspec'
end

def tv_collectors
  pod 'BitmovinAnalyticsCollector/Core', :path => '../BitmovinAnalyticsCollector.v2.podspec'
  pod 'BitmovinAnalyticsCollector/AVPlayer', :path => '../BitmovinAnalyticsCollector.v2.podspec'
  pod 'BitmovinAnalyticsCollector/BitmovinPlayer', :path => '../BitmovinAnalyticsCollector.v2.podspec'
end

def google_Adsima_sdk
  pod 'GoogleAds-IMA-iOS-SDK', '3.18.4'
end

#def google_cast_sdk
#  pod 'google-cast-sdk', '4.6.1'
#end

target 'CollectorDemoApp' do
  use_frameworks!
  for_ios
  google_Adsima_sdk
  # TODO: use once the a XCFramework version is available on Cocoapods.
#   google_cast_sdk
end

target 'CollectorDemoAppCocoaPods' do
  use_frameworks!
  for_ios
  collectors
  google_Adsima_sdk
  # TODO: use once the a XCFramework version is available on Cocoapods.
#   google_cast_sdk
end

target 'CollectorDemoAppTV' do
  use_frameworks!
  for_tvos
end

target 'CollectorDemoAppTVCocoaPods' do
  # use_frameworks! # Disable because of cocoapod bug related to subspecs
  for_tvos
  tv_collectors
end
